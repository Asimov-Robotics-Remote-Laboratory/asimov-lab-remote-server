import{a5 as m,aN as f,a6 as b,aO as y,aP as l,aQ as d,a9 as h,A as a,aa as s,ab as g,aR as V,ac as M,ad as L,Y as i,aL as C,_ as S,a4 as _,ae as v,aM as x,af as u,V as c}from"./index.d01dead9.js";const k={name:"LaboratoryForm",props:["id"],components:{MonacoEditor:f},data(){return{notificationStore:b(),title:this.id?"Editar Laborat\xF3rio":"Novo Laborat\xF3rio",loading:!1,laboratory:new y,options:{automaticLayout:!0,autoIndent:!0,mouseWheelZoom:!0}}},mounted(){this.id&&this.findLaboratoryById()},methods:{async onBeforeMountMonacoEditor(o){o.editor.createModel(l.listArduinoMethodes(),"cpp"),o.editor.createModel(l.listArduinoConstants(),"cpp"),o.editor.createModel(l.listArduinoDataTypes(),"cpp"),o.editor.createModel(l.listArduinoScopeAndQualifiers(),"cpp")},async findLaboratoryById(){try{this.loading=!0;const o=this.id;this.laboratory=await d.findLaboratoryById(o),this.laboratory.id=this.laboratory._id,this.loading=!1}catch(o){const t=o.data.errors;this.loading=!1,this.notificationStore.setErrorMessages(t),this.$router.push({name:"laboratories"})}},async save(){if(this.loading=!0,this.laboratory._id)try{await d.updateLaboratory(this.laboratory),this.$router.push({name:"laboratories"}),this.loading=!1,this.notificationStore.setSuccessMessages([{msg:"Laborat\xF3rio atualizado com sucesso!"}])}catch(o){this.loading=!1,this.notificationStore.setErrorMessages(o.data.errors)}else try{await d.createLaboratory(this.laboratory),this.$router.push({name:"laboratories"}),this.loading=!1,this.notificationStore.setSuccessMessages([{msg:"Laborat\xF3rio inserido com sucesso!"}])}catch(o){this.loading=!1,this.notificationStore.setErrorMessages(o.data.errors)}},cancel(){this.$router.push({name:"laboratories"})}}};function B(o,t,E,w,e,n){const p=V("monaco-editor");return M(),h("div",null,[a(g,{loading:e.loading,flat:""},{default:s(()=>[a(L,null,{default:s(()=>[i(" Laborat\xF3rio ")]),_:1}),a(C,null,{default:s(()=>[i(S(e.title),1)]),_:1}),a(_),a(v,null,{default:s(()=>[a(x,{ref:"form"},{default:s(()=>[a(u,{label:"Nome",type:"text",outlined:"",dense:"",modelValue:e.laboratory.name,"onUpdate:modelValue":t[0]||(t[0]=r=>e.laboratory.name=r)},null,8,["modelValue"]),a(u,{label:"Descri\xE7\xE3o",type:"text",outlined:"",dense:"",modelValue:e.laboratory.description,"onUpdate:modelValue":t[1]||(t[1]=r=>e.laboratory.description=r)},null,8,["modelValue"]),a(u,{label:"Link de imagem",type:"text",outlined:"",dense:"",modelValue:e.laboratory.imageLink,"onUpdate:modelValue":t[2]||(t[2]=r=>e.laboratory.imageLink=r)},null,8,["modelValue"]),i(" C\xF3digo padr\xE3o: "),a(p,{language:"cpp",options:e.options,value:e.laboratory.defaultCode,"onUpdate:value":t[3]||(t[3]=r=>e.laboratory.defaultCode=r),onBeforeMount:n.onBeforeMountMonacoEditor,style:{width:"100%",height:"200px","border-style":"solid","border-width":"thin","margin-bottom":"20px"}},null,8,["options","value","onBeforeMount"])]),_:1},512),a(c,{class:"ma-2",color:"success",dark:"",onClick:n.save},{default:s(()=>[i(" Salvar ")]),_:1},8,["onClick"]),a(c,{class:"ma-2",color:"red",dark:"",onClick:n.cancel},{default:s(()=>[i(" Cancelar ")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["loading"])])}const N=m(k,[["render",B]]);export{N as default};
